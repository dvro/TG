% !TEX encoding = ISO-8859-1
\chapter{Análise em Bases Artificiais}
\label{ch:analiseembasesartificiais}

Neste capítulo será analisado o desempenho das técnicas acima em bases desbalanceadas artificiais. Além da taxa de acerto, será considerada a quantidade de protótipos gerados por cada técnica e a distribuição destes protótipos.

\section{Bases Artificiais}
\label{sec:basesartificiais}

Para avaliar de forma visual o comportamento de cada algoritmo de seleção de protótipos, foram selecionadas bases artificiais com diferentes níveis de sobrebosição entre a classe marjoritária e a classe minotirária. Também foram selecionados dois diferentes níveis de desbalanceamento, um com aproximadamente 10\% de desbalanceamento e outro com aproximadamente 5\%.

\begin{figure}[H]
\center
\includegraphics[scale=0.40]{imagens/outputs/ORIG_10_0.eps}
\caption{Base Original com 10\% de desbalanceamento e intersecção mínima}
\label{fig:orig1}
\end{figure}

\begin{figure}[H]
\center
\includegraphics[scale=0.40]{imagens/outputs/ORIG_10_15.eps}
\caption{Base Original com 10\% de desbalanceamento e intersecção máxima}
\label{fig:orig2}
\end{figure}


Nas figuras \ref{fig:orig1} e \ref{fig:orig2} estão demonstrados os níveis de intersecção extremos. No primeiro caso, a classe marjoritária está totalmente separada da classe minoritária. No segundo caso, a classe marjoritária engloba toda a classe minoritária. Além destes dois casos, também serão mostrados níveis intermediários de sobreposição. Com estes diferentes níveis de intersecção, será possível avaliar o comportamento de cada técnica diante de diferentes casos de bases desbalanceadas.

\begin{figure}[H]
\center
\includegraphics[scale=0.40]{imagens/outputs/ORIG_5_0.eps}
\caption{Base Original com 5\% de desbalanceamento e intersecção mínima}
\label{fig:orig3}
\end{figure}

\begin{figure}[H]
\center
\includegraphics[scale=0.40]{imagens/outputs/ORIG_5_15.eps}
\caption{Base Original com 5\% de desbalanceamento e intersecção máxima}
\label{fig:orig4}
\end{figure}

Nas figuras \ref{fig:orig3} e \ref{fig:orig4} observa-se o mesmo caso, sendo que com um nível maior de desbalanceamento. Tendo as mesmas distribuições e intersecções, mas com níveis de desbalanceamentos diferentes, será possível avaliar a relevância dos níveis de desbalanceamento para cada técnica. 

\section{Análise Individual}

Nesta sessão, cada técnica sera analisada isoladamente. Para exemplificar e demonstrar as falhas de cada técnica, serão utilizadas figuras e tabelas que comprovem o comportamento de cada algoritmo diante de bases desbalanceadas.

Todas as conclusões poderão ser validadas ou mesmo reavaliadas com a aplicação das técnicas de seleção de protótipos em bases reais no próximo capítulo.


\subsection{ENN}
\label{subsec:ennembasesartificiais}

	Conforme dito no capítulo anterior, o ENN é uma técnica que elimina ruídos na fronteira de classificação, mantendo instâncias que apresentam redundância de informação. Na tabela \ref{tab:enn5}, podemos ver a taxa de acerto do ENN em uma base com 10\%, onde o nível de sobreposição varia gradualmente, sendo o último nível o caso onda a classe minoritária está totalmente imersa dentro da classe marjoritária, lembrando que, foi utilizado o próprio treinamento para teste, afim de avaliar a representatividade dos dados em relação a base original.

	Observa-se que a o ENN manteve uma boa taxa de acerto geral, sendo o pior caso com 94.74\%. Porém, vemos que esta taxa diminui conforme o nível de sobreposição aumenta, na mesma proporção em que instâncias são eliminadas. Porém, ao observar a taxa de acerto da classe minoritária, pode-se perceber que o ENN eliminou muito mais instâncias da classe minoritária que da marjoritária.
	Inicialmente o nível de sobreposição das classes é zero, então nenhuma instância é eliminada e a taxa de acerto é mantida. Conforme o nível de sobreposição das classes vai aumentnado, a taxa de acerto da classe minoritária vai decrescendo, chegando até 0\% quando a classe minoritária está totalmente sobreposta. Na tabela \ref{tab:enn10} acontece o mesmo, porém, o decrescimento da taxa de acerto da classe minoritária é menor.


\begin{table}[H]
\begin{center}
\begin{tabular}{|l|l|l|l|l|l|}
\hline
Nível de Intersecção    &   I   &   II  &   III &   IV  &   V   \\
\hline %----- linha horizontal
Acerto total            &   100.00\%   &   100.00\%   &   97.68\%    &   94.74\%   &   94.74\%   \\
\hline
Acerto marjoritária     &   100.00\%   &   100.00\%   &   99.00\%    &   98.33\%   &   100.00\%   \\
\hline
Acerto minoritária      &   100.00\%   &   100.00\%   &   74.00\%    &   30.00\%   &   0.00\%   \\
\hline
Tamanho resultante      &   100.00\%   &   100.00\%   &   95.79\%    &   90.53\%   &   90.00\%   \\
\hline
\end{tabular}%--- fechamento do ambiente tabular
\end{center}   %fim da centralização da tabela
\caption{ENN com nível de desbalanceamento 5\%}
\label{tab:enn5}
\end{table}


\begin{table}[H]
\begin{center}
\begin{tabular}{|l|l|l|l|l|l|}
\hline
Nível de Intersecção    &   I   &   II  &   III &   IV  &   V   \\
\hline %----- linha horizontal
Acerto total            &   100.00\%   &   100.00\%   &   95.80\%    &   90.00\%   &   90.00\%   \\
\hline
Acerto marjoritária     &   100.00\%   &   100.00\%   &   97.89\%    &   95.56\%   &   100.00\%   \\
\hline
Acerto minoritária      &   100.00\%   &   100.00\%   &   77.00\%    &   40.00\%   &   0.00\%   \\
\hline
Tamanho resultante      &   100.00\%   &   100.00\%   &   92.00\%    &   82.00\%   &   81.00\%   \\
\hline
\end{tabular}%--- fechamento do ambiente tabular
\end{center}   %fim da centralização da tabela
\caption{ENN com nível de desbalanceamento 10\%}
\label{tab:enn10}
\end{table}


Quando não existe sobreposição de classes, o ENN pode ser uma boa opção para remoção de ruídos, porém, quando existe sobreposição, esta técnica pode remover praticamente todas as instâncias da classe minoritária, aumentando o nível de desbalanceamento e deixando o classificador inviável para identificação da classe minoritária.

\begin{figure}[H]
\center
\includegraphics[scale=0.40]{imagens/outputs/ENN_10_15.eps}
\caption{ENN sobre sobre base com total sobreposição de classes e 10\% de desbalanceamento}
\label{fig:enn1015}
\end{figure}

A figura \ref{fig:enn1015} mostra o que aconteceu após a aplicação do ENN. Todas as instâncias da classe minoritária foram removidas, pois foram tratadas como ruídos. Apesar de instâncias da classe marjoritária também serem removidas, quanto maior o nível de desbalanceamento, mais inviável a técnica se torna, pois conforme a sobreposição aumenta, mais instâncias são removidas, e a classe minoritária tende a desaparecer mais rapidamente que a marjoritária.

Assim, tendo como base este experimento, conclui-se que o ENN não é uma técnica eficiente para se utilizar em bases altamente desbalanceadas, pois, quanto maior o nível de desbalanceamento, mais instâncias da classe minoritária serão eliminadas.

Uma possível adaptação do ENN seria remover instâncias apenas da classe marjoritária, com isso, o nível de desbalanceamento seria diminuido e a taxa de acerto da classe minoritária não seria afetada em relação ao KNN sobre toda a base original.


\subsection{CNN}

\begin{table}[H]
\begin{center}
\begin{tabular}{|l|l|l|l|l|l|}
\hline
Nível de Intersecção    &   I   &   II  &   III &   IV  &   V   \\
\hline %----- linha horizontal
Acerto total            &   94.74\%   &   99.26\%   &   97.47\%    &   94.74\%   &   94.11\%   \\
\hline
Acerto marjoritária     &   100.00\%   &   100.00\%   &   98.67\%    &   97.56\%   &   95.89\%   \\
\hline
Acerto minoritária      &   0.00\%   &   86.00\%   &   76.00\%    &   44.00\%   &   62.00\%   \\
\hline
Tamanho resultante      &   0.32\%   &   0.63\%   &   4.32\%    &   7.68\%   &   7.47\%   \\
\hline
\end{tabular}%--- fechamento do ambiente tabular
\end{center}   %fim da centralização da tabela
\caption{CNN com nível de desbalanceamento 5\%}
\end{table}

\begin{table}[H]
\begin{center}
\begin{tabular}{|l|l|l|l|l|l|}
\hline
Nível de Intersecção    &   I   &   II  &   III &   IV  &   V   \\
\hline %----- linha horizontal
Acerto total            &   90.00\%   &   99.30\%   &   94.70\%    &   91.00\%   &   90.40\%   \\
\hline
Acerto marjoritária     &   100.00\%   &   99.44\%   &   96.22\%    &   94.44\%   &   95.00\%   \\
\hline
Acerto minoritária      &   0.00\%   &   98.00\%   &   81.00\%    &   60.00\%   &   49.00\%   \\
\hline
Tamanho resultante      &   0.50\%   &   1.20\%   &   7.50\%    &   13.30\%   &   13.90\%   \\
\hline
\end{tabular}%--- fechamento do ambiente tabular
\end{center}   %fim da centralização da tabela
\caption{CNN com nível de desbalanceamento 10\%}
\end{table}

\subsection{Tomek Links}

\begin{table}[H]
\begin{center}
\begin{tabular}{|l|l|l|l|l|l|}
\hline
Nível de Intersecção    &   I   &   II  &   III &   IV  &   V   \\
\hline %----- linha horizontal
Acerto total            &   100.00\%   &   100.00\%   &   98.42\%    &   97.47\%   &   97.05\%   \\
\hline
Acerto marjoritária     &   100.00\%   &   100.00\%   &   99.33\%    &   98.67\%   &   99.00\%   \\
\hline
Acerto minoritária      &   100.00\%   &   100.00\%   &   82.00\%    &   76.00\%   &   62.00\%   \\
\hline
Tamanho resultante      &   100.00\%   &   100.00\%   &   96.84\%    &   94.32\%   &   94.32\%   \\
\hline
\end{tabular}%--- fechamento do ambiente tabular
\end{center}   %fim da centralização da tabela
\caption{Tomek Links com nível de desbalanceamento 5\%}
\end{table}


\begin{table}[H]
\begin{center}
\begin{tabular}{|l|l|l|l|l|l|}
\hline
Nível de Intersecção    &   I   &   II  &   III &   IV  &   V   \\
\hline %----- linha horizontal
Acerto total            &   100.00\%   &   100.00\%   &   97.30\%    &   94.60\%   &   93.90\%   \\
\hline
Acerto marjoritária     &   100.00\%   &   100.00\%   &   98.56\%    &   97.00\%   &   97.56\%   \\
\hline
Acerto minoritária      &   100.00\%   &   100.00\%   &   86.00\%    &   73.00\%   &   61.00\%   \\
\hline
Tamanho resultante      &   100.00\%   &   100.00\%   &   94.60\%    &   89.60\%   &   89.60\%   \\
\hline
\end{tabular}%--- fechamento do ambiente tabular
\end{center}   %fim da centralização da tabela
\caption{Tomek Links com nível de desbalanceamento 10\%}
\end{table}



\subsection{OSS}

\begin{table}[H]
\begin{center}
\begin{tabular}{|l|l|l|l|l|l|}
\hline
Nível de Intersecção    &   I   &   II  &   III &   IV  &   V   \\
\hline %----- linha horizontal
Acerto total            &   98.74\%   &   99.58\%   &   97.05\%    &   93.37\%   &   93.89\%   \\
\hline
Acerto marjoritária     &   98.67\%   &   99.56\%   &   97.11\%    &   93.44\%   &   94.22\%   \\
\hline
Acerto minoritária      &   100.00\%   &   100.00\%   &   96.00\%    &   92.00\%   &   88.00\%   \\
\hline
Tamanho resultante      &   5.58\%   &   5.89\%   &   7.16\%    &   8.63\%   &   9.68\%   \\
\hline
\end{tabular}%--- fechamento do ambiente tabular
\end{center}   %fim da centralização da tabela
\caption{OSS com nível de desbalanceamento 5\%}
\end{table}

\begin{table}[H]
\begin{center}
\begin{tabular}{|l|l|l|l|l|l|}
\hline
Nível de Intersecção    &   I   &   II  &   III &   IV  &   V   \\
\hline %----- linha horizontal
Acerto total            &   97.50\%   &   98.80\%   &   95.20\%    &   85.90\%   &   87.50\%   \\
\hline
Acerto marjoritária     &   97.22\%   &   98.67\%   &   95.22\%    &   85.78\%   &   88.00\%   \\
\hline
Acerto minoritária      &   100.00\%   &   100.00\%   &   95.00\%    &   87.00\%   &   83.00\%   \\
\hline
Tamanho resultante      &   10.40\%   &   11.10\%   &   13.60\%    &   15.50\%   &   17.40\%   \\
\hline
\end{tabular}%--- fechamento do ambiente tabular
\end{center}   %fim da centralização da tabela
\caption{OSS com nível de desbalanceamento 10\%}
\end{table}

\subsection{LVQ 1, 2.1 e 3}

\begin{table}[H]
\begin{center}
\begin{tabular}{|l|l|l|l|l|l|}
\hline
Nível de Intersecção    &   I   &   II  &   III &   IV  &   V   \\
\hline %----- linha horizontal
Acerto total            &   93.47\%   &   91.79\%   &   84.84\%    &   74.74\%   &   77.68\%   \\
\hline
Acerto marjoritária     &   93.11\%   &   91.33\%   &   84.00\%    &   73.33\%   &   76.44\%   \\
\hline
Acerto minoritária      &   100.00\%   &   100.00\%   &   100.00\%    &   100.00\%   &   100.00\%   \\
\hline
Tamanho resultante      &   1.05\%   &   1.05\%   &   1.05\%    &   1.05\%   &   1.05\%   \\
\hline
\end{tabular}%--- fechamento do ambiente tabular
\end{center}   %fim da centralização da tabela
\caption{LVQ1 com nível de desbalanceamento 5\%}
\end{table}

\begin{table}[H]
\begin{center}
\begin{tabular}{|l|l|l|l|l|l|}
\hline
Nível de Intersecção    &   I   &   II  &   III &   IV  &   V   \\
\hline %----- linha horizontal
Acerto total            &   95.30\%   &   87.40\%   &   80.80\%    &   77.00\%   &   71.90\%   \\
\hline
Acerto marjoritária     &   94.78\%   &   86.00\%   &   78.67\%    &   74.44\%   &   68.78\%   \\
\hline
Acerto minoritária      &   100.00\%   &   100.00\%   &   100.00\%    &   100.00\%   &   100.00\%   \\
\hline
Tamanho resultante      &   1.00\%   &   1.00\%   &   1.00\%    &   1.00\%   &   1.00\%   \\
\hline
\end{tabular}%--- fechamento do ambiente tabular
\end{center}   %fim da centralização da tabela
\caption{LVQ 1 acerto do 5 com nível de desbalanceamento 10\%}
\end{table}

\begin{table}[H]
\begin{center}
\begin{tabular}{|l|l|l|l|l|l|}
\hline
Nível de Intersecção    &   I   &   II  &   III &   IV  &   V   \\
\hline %----- linha horizontal
Acerto total            &   90.84\%   &   89.68\%   &   83.89\%    &   80.11\%   &   76.84\%   \\
\hline
Acerto marjoritária     &   90.33\%   &   89.11\%   &   83.00\%    &   79.00\%   &   75.56\%   \\
\hline
Acerto minoritária      &   100.00\%   &   100.00\%   &   100.00\%    &   100.00\%   &   100.00\%   \\
\hline
Tamanho resultante      &   1.05\%   &   1.05\%   &   1.05\%    &   1.05\%   &   1.05\%   \\
\hline
\end{tabular}%--- fechamento do ambiente tabular
\end{center}   %fim da centralização da tabela
\caption{LVQ 2 com nível de desbalanceamento 5\%}
\end{table}

\begin{table}[H]
\begin{center}
\begin{tabular}{|l|l|l|l|l|l|}
\hline
Nível de Intersecção    &   I   &   II  &   III &   IV  &   V   \\
\hline %----- linha horizontal
Acerto total            &   95.80\%   &   90.40\%   &   81.60\%    &   80.70\%   &   76.20\%   \\
\hline
Acerto marjoritária     &   95.33\%   &   89.33\%   &   79.56\%    &   78.56\%   &   73.56\%   \\
\hline
Acerto minoritária      &   100.00\%   &   100.00\%   &   100.00\%    &   100.00\%   &   100.00\%   \\
\hline
Tamanho resultante      &   1.00\%   &   1.00\%   &   1.00\%    &   1.00\%   &   1.00\%   \\
\hline
\end{tabular}%--- fechamento do ambiente tabular
\end{center}   %fim da centralização da tabela
\caption{LVQ 2 com nível de desbalanceamento 10\%}
\end{table}

\begin{table}[H]
\begin{center}
\begin{tabular}{|l|l|l|l|l|l|}
\hline
Nível de Intersecção    &   I   &   II  &   III &   IV  &   V   \\
\hline %----- linha horizontal
Acerto total            &   95.79\%   &   92.32\%   &   83.68\%    &   78.32\%   &   74.53\%   \\
\hline
Acerto marjoritária     &   95.56\%   &   91.89\%   &   82.78\%    &   77.11\%   &   73.11\%   \\
\hline
Acerto minoritária      &   100.00\%   &   100.00\%   &   100.00\%    &   100.00\%   &   100.00\%   \\
\hline
Tamanho resultante      &   1.05\%   &   1.05\%   &   1.05\%    &   1.05\%   &   1.05\%   \\
\hline
\end{tabular}%--- fechamento do ambiente tabular
\end{center}   %fim da centralização da tabela
\caption{LVQ 3 com nível de desbalanceamento 5\%}
\end{table}

\begin{table}[H]
\begin{center}
\begin{tabular}{|l|l|l|l|l|l|}
\hline
Nível de Intersecção    &   I   &   II  &   III &   IV  &   V   \\
\hline %----- linha horizontal
Acerto total            &   94.70\%   &   88.10\%   &   89.40\%    &   75.60\%   &   73.50\%   \\
\hline
Acerto marjoritária     &   94.11\%   &   86.78\%   &   88.22\%    &   72.89\%   &   70.56\%   \\
\hline
Acerto minoritária      &   100.00\%   &   100.00\%   &   100.00\%    &   100.00\%   &   100.00\%   \\
\hline
Tamanho resultante      &   1.00\%   &   1.00\%   &   1.00\%    &   1.00\%   &   1.00\%   \\
\hline
\end{tabular}%--- fechamento do ambiente tabular
\end{center}   %fim da centralização da tabela
\caption{LVQ 3 com nível de desbalanceamento 10\%}
\end{table}


\subsection{SGP 1}

\begin{table}[H]
\begin{center}
\begin{tabular}{|l|l|l|l|l|l|}
\hline
Nível de Intersecção    &   I   &   II  &   III &   IV  &   V   \\
\hline %----- linha horizontal
Acerto total            &   100.00\%   &   100.00\%   &   97.68\%    &   94.74\%   &   94.74\%   \\
\hline
Acerto marjoritária     &   100.00\%   &   100.00\%   &   98.89\%    &   100.00\%   &   100.00\%   \\
\hline
Acerto minoritária      &   100.00\%   &   100.00\%   &   76.00\%    &   0.00\%   &   0.00\%   \\
\hline
Tamanho resultante      &   0.53\%   &   2.74\%   &   5.26\%    &   5.16\%   &   5.68\%   \\
\hline
\end{tabular}%--- fechamento do ambiente tabular
\end{center}   %fim da centralização da tabela
\caption{SGP 1 com nível de desbalanceamento 5\%}
\end{table}

\begin{table}[H]
\begin{center}
\begin{tabular}{|l|l|l|l|l|l|}
\hline
Nível de Intersecção    &   I   &   II  &   III &   IV  &   V   \\
\hline %----- linha horizontal
Acerto total            &   100.00\%   &   100.00\%   &   95.40\%    &   90.70\%   &   90.00\%   \\
\hline
Acerto marjoritária     &   100.00\%   &   100.00\%   &   97.89\%    &   95.78\%   &   100.00\%   \\
\hline
Acerto minoritária      &   100.00\%   &   100.00\%   &   73.00\%    &   45.00\%   &   0.00\%   \\
\hline
Tamanho resultante      &   0.40\%   &   3.50\%   &   5.80\%    &   8.20\%   &   5.90\%   \\
\hline
\end{tabular}%--- fechamento do ambiente tabular
\end{center}   %fim da centralização da tabela
\caption{SGP 1 com nível de desbalanceamento 10\%}
\end{table}


\subsection{SGP 2}

\begin{table}[H]
\begin{center}
\begin{tabular}{|l|l|l|l|l|l|}
\hline
Nível de Intersecção    &   I   &   II  &   III &   IV  &   V   \\
\hline %----- linha horizontal
Acerto total            &   100.00\%   &   100.00\%   &   97.58\%    &   94.74\%   &   94.74\%   \\
\hline
Acerto marjoritária     &   100.00\%   &   100.00\%   &   98.78\%    &   100.00\%   &   100.00\%   \\
\hline
Acerto minoritária      &   100.00\%   &   100.00\%   &   76.00\%    &   0.00\%   &   0.00\%   \\
\hline
Tamanho resultante      &   0.21\%   &   1.26\%   &   2.42\%    &   2.63\%   &   2.63\%   \\
\hline
\end{tabular}%--- fechamento do ambiente tabular
\end{center}   %fim da centralização da tabela
\caption{SGP 2 com nível de desbalanceamento 5\%}
\end{table}

\begin{table}[H]
\begin{center}
\begin{tabular}{|l|l|l|l|l|l|}
\hline
Nível de Intersecção    &   I   &   II  &   III &   IV  &   V   \\
\hline %----- linha horizontal
Acerto total            &   100.00\%   &   100.00\%   &   95.50\%    &   90.00\%   &   90.20\%   \\
\hline
Acerto marjoritária     &   100.00\%   &   100.00\%   &   98.22\%    &   100.00\%   &   95.56\%   \\
\hline
Acerto minoritária      &   100.00\%   &   100.00\%   &   71.00\%    &   0.00\%   &   42.00\%   \\
\hline
Tamanho resultante      &   0.30\%   &   1.90\%   &   2.90\%    &   2.70\%   &   4.40\%   \\
\hline
\end{tabular}%--- fechamento do ambiente tabular
\end{center}   %fim da centralização da tabela
\caption{SGP 2 com nível de desbalanceamento 10\%}
\end{table}


\section{Analise Geral}
